require("./index.css");Object.defineProperty(exports, "__esModule", {value: true});var _react = require('react');function _(t,e,n){if(e=e||n,(a=>/^#([0-9A-Fa-f]{6})$/.test(a))(e)||(console.error(`Invalid format for property '${t}', please enter a valid hexadecimal format with 7 characters, for example, '#007bff'.`),e=n),t==="--main-color"){let a=e+"D9",r=e+"33";document.documentElement.style.setProperty(t,e),document.documentElement.style.setProperty(t+"-opacity-85",a),document.documentElement.style.setProperty(t+"-opacity-20",r)}else document.documentElement.style.setProperty(t,e)}function O(t,e){let{column:n,order:o}=e;return[...t].sort((a,r)=>{let b=a[n],i=r[n];return b<i?o==="asc"?-1:1:b>i?o==="asc"?1:-1:0})}var _jsxruntime = require('react/jsx-runtime');function P({columns:t,sorting:e,onSortingChange:n}){let o=a=>{n({column:a,order:e.column===a&&e.order==="asc"?"desc":"asc"})};return _jsxruntime.jsx.call(void 0, "thead",{id:"TableHeader","data-testid":"table-header",children:_jsxruntime.jsx.call(void 0, "tr",{children:t.map((a,r)=>_jsxruntime.jsx.call(void 0, "th",{children:_jsxruntime.jsx.call(void 0, "div",{children:_jsxruntime.jsxs.call(void 0, "button",{type:"button",className:`sort-button ${e.column===a.data?e.order:""}`,onClick:()=>o(a.data),children:[a.title,_jsxruntime.jsxs.call(void 0, "div",{className:"arrow-container",children:[_jsxruntime.jsx.call(void 0, "span",{className:`arrow-up ${e.column===a.data&&e.order==="asc"?"active":""}`}),_jsxruntime.jsx.call(void 0, "span",{className:`arrow-down ${e.column===a.data&&e.order==="desc"?"active":""}`})]})]})})},r))})})}function S({columns:t,displayedData:e}){return _jsxruntime.jsx.call(void 0, "tbody",{id:"TableBody","data-testid":"table-body",children:e.length===0?_jsxruntime.jsx.call(void 0, "tr",{children:_jsxruntime.jsx.call(void 0, "td",{colSpan:t.length,id:"TableBody_no-data","data-testid":"table-body-no-data",children:_jsxruntime.jsx.call(void 0, "div",{children:"No data available"})})}):e.map((n,o)=>_jsxruntime.jsx.call(void 0, "tr",{children:t.map((a,r)=>_jsxruntime.jsx.call(void 0, "td",{"data-testid":`data-cell-for-column-${a.data}`,children:_jsxruntime.jsx.call(void 0, "div",{children:n[a.data]})},"TD-col"+r+"-row"+o))},"TR-"+o))})}function k({numberOfEntries:t,onEntriesChange:e}){return _jsxruntime.jsxs.call(void 0, "div",{id:"TableEntriesSelector","data-testid":"table-entries-selector",children:[_jsxruntime.jsx.call(void 0, "label",{htmlFor:"entries",children:"Show"}),_jsxruntime.jsx.call(void 0, "select",{id:"entries",value:t,onChange:o=>e(parseInt(o.target.value,10)),children:[5,10,15,20,25,50,100].map(o=>_jsxruntime.jsx.call(void 0, "option",{value:o,children:o},"option-key-"+o))}),_jsxruntime.jsx.call(void 0, "label",{htmlFor:"entries",children:"entries"})]})}function C({data:t,onSearchInput:e}){function n(o){let a=t.filter(r=>Object.values(r).join(" ").toLowerCase().includes(o.toLowerCase()));e([...a])}return _jsxruntime.jsxs.call(void 0, "div",{id:"TableFilter","data-testid":"table-filter",children:[_jsxruntime.jsx.call(void 0, "label",{htmlFor:"search",children:"Search:"}),_jsxruntime.jsx.call(void 0, "input",{type:"text",id:"search",name:"search",onChange:o=>n(o.target.value),"data-testid":"table-filter-input"})]})}function E({dataLength:t,dataStateLength:e,displayedDataStart:n,displayedDataEnd:o}){let a=e===1?"entry":"entries",r=()=>e===0?"No entries":`Showing ${n===0?1:n+1} to ${o} of ${e} ${a}`,b=()=>t===e?"":` (filtered from ${t} total entries)`;return _jsxruntime.jsxs.call(void 0, "p",{"data-testid":"table-info",children:[r(),b()]})}function H({currentPage:t,numberOfEntries:e,dataStateLength:n,onPageChanges:o}){let a=Math.ceil(n/e),r=t>1,b=t<a,i=7,p=Math.floor(i/2);function s(l,f){return Array.from({length:f-l+1},(F,v)=>l+v)}function w(){return a<=i?s(1,a):t<=p+1?[...s(1,i-2),-1,a]:t>=a-p?[1,-1,...s(a-i+3,a)]:[1,-1,...s(t-p+2,t+p-2),-1,a]}let d=l=>{l>=1&&l<=a&&o(l)};return _jsxruntime.jsxs.call(void 0, "div",{id:"TablePagination","data-testid":"table-pagination",children:[_jsxruntime.jsx.call(void 0, "button",{className:"TablePagination_button",onClick:()=>d(t-1),disabled:!r,children:"Previous"}),w().map((l,f)=>_jsxruntime.jsx.call(void 0, "button",{className:`${t===l?"active":""}`,onClick:()=>l!==-1?d(l):null,children:l===-1?"...":l},f)),_jsxruntime.jsx.call(void 0, "button",{className:"TablePagination_button",onClick:()=>d(t+1),disabled:!b,children:"Next"})]})}var q="#081f37",G="#5fc9f3",J= exports.DataTable =({data:t=[],columns:e,className:n,mainColor:o,accentColor:a})=>{let[r,b]=_react.useState.call(void 0, t),[i,p]=_react.useState.call(void 0, {column:e[0].data,order:"asc"}),[s,w]=_react.useState.call(void 0, 10),[d,l]=_react.useState.call(void 0, 1);_react.useEffect.call(void 0, ()=>{typeof document!="undefined"&&(_("--main-color",o,q),_("--accent-color",a,G))},[o,a]);let f=g=>{w(g),l(1)},F=g=>{p(g),l(1)},v=g=>{b(g),l(1)},B=_react.useMemo.call(void 0, ()=>O(r,i),[r,i]),D=_react.useMemo.call(void 0, ()=>(d-1)*s,[d,s]),I=_react.useMemo.call(void 0, ()=>d*s>r.length?r.length:d*s,[d,s,r.length]),A=_react.useMemo.call(void 0, ()=>B.slice(D,I),[B,D,I]);return _jsxruntime.jsxs.call(void 0, "div",{className:`DataTable_global_wrapper ${n}`,children:[_jsxruntime.jsx.call(void 0, "div",{className:"DataTable_small_screen_unsupported",children:"Oops, this table is not small-screen friendly. Please switch to a larger device for the best experience."}),_jsxruntime.jsxs.call(void 0, "div",{className:"DataTable_top",children:[_jsxruntime.jsx.call(void 0, k,{numberOfEntries:s,onEntriesChange:f}),_jsxruntime.jsx.call(void 0, C,{data:t,onSearchInput:v})]}),_jsxruntime.jsx.call(void 0, "div",{className:"DataTable_content_wrapper",children:_jsxruntime.jsxs.call(void 0, "table",{className:"DataTable",children:[_jsxruntime.jsx.call(void 0, P,{columns:e,sorting:i,onSortingChange:F}),_jsxruntime.jsx.call(void 0, S,{columns:e,displayedData:A})]})}),_jsxruntime.jsxs.call(void 0, "div",{className:"DataTable_bottom",children:[_jsxruntime.jsx.call(void 0, E,{dataLength:t.length,dataStateLength:r.length,displayedDataStart:D,displayedDataEnd:I}),_jsxruntime.jsx.call(void 0, H,{currentPage:d,numberOfEntries:s,dataStateLength:r.length,onPageChanges:l})]})]})};exports.DataTable = J;
//# sourceMappingURL=index.js.map